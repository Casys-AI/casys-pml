global:
  scrape_interval: 15s
  evaluation_interval: 15s
  scrape_timeout: 10s

# Alertmanager configuration (optional)
# alerting:
#   alertmanagers:
#     - static_configs:
#         - targets: ['alertmanager:9093']

scrape_configs:
  # Prometheus itself
  - job_name: "prometheus"
    static_configs:
      - targets: ["localhost:9090"]

  # Casys PML metrics - Algorithm decisions, tool calls, DAG executions
  # Uses host.docker.internal (via extra_hosts in docker-compose)
  - job_name: "pml"
    static_configs:
      - targets: ["host.docker.internal:3003"]
    metrics_path: /api/metrics/prometheus

  # Node Exporter - System metrics (CPU, RAM, Disk, Network)
  - job_name: "node"
    static_configs:
      - targets: ["node-exporter:9100"]
        labels:
          instance: "pml-host"

  # Jaeger SPM - SpanMetrics for Service Performance Monitoring
  - job_name: "jaeger-spanmetrics"
    static_configs:
      - targets: ["jaeger:8889"]
    metrics_path: /metrics
