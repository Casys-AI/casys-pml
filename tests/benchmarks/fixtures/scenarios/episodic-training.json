{
  "name": "episodic-training",
  "description": "Training data scenarios for SHGAT with varied patterns",
  "nodes": {
    "tools": [
      { "id": "api__fetch_user", "pageRank": 0.08, "community": 0 },
      { "id": "api__fetch_orders", "pageRank": 0.07, "community": 0 },
      { "id": "api__fetch_products", "pageRank": 0.06, "community": 0 },
      { "id": "db__get_user", "pageRank": 0.07, "community": 1 },
      { "id": "db__get_cart", "pageRank": 0.06, "community": 1 },
      { "id": "db__save_order", "pageRank": 0.08, "community": 1 },
      { "id": "db__update_inventory", "pageRank": 0.05, "community": 1 },
      { "id": "payment__validate", "pageRank": 0.09, "community": 2 },
      { "id": "payment__charge", "pageRank": 0.08, "community": 2 },
      { "id": "payment__refund", "pageRank": 0.04, "community": 2 },
      { "id": "email__order_confirm", "pageRank": 0.05, "community": 3 },
      { "id": "email__shipping_notify", "pageRank": 0.04, "community": 3 },
      { "id": "inventory__check", "pageRank": 0.06, "community": 4 },
      { "id": "inventory__reserve", "pageRank": 0.05, "community": 4 },
      { "id": "inventory__release", "pageRank": 0.03, "community": 4 }
    ],
    "capabilities": [
      {
        "id": "cap__checkout_flow",
        "toolsUsed": ["db__get_cart", "inventory__check", "payment__validate", "payment__charge", "db__save_order", "email__order_confirm"],
        "successRate": 0.85,
        "staticEdges": [
          { "from": "db__get_cart", "to": "inventory__check", "type": "provides" },
          { "from": "inventory__check", "to": "payment__validate", "type": "provides" },
          { "from": "payment__validate", "to": "payment__charge", "type": "provides" },
          { "from": "payment__charge", "to": "db__save_order", "type": "provides" },
          { "from": "db__save_order", "to": "email__order_confirm", "type": "provides" }
        ]
      },
      {
        "id": "cap__order_cancellation",
        "toolsUsed": ["db__get_cart", "payment__refund", "inventory__release", "email__order_confirm"],
        "successRate": 0.92,
        "staticEdges": [
          { "from": "db__get_cart", "to": "payment__refund", "type": "provides" },
          { "from": "payment__refund", "to": "inventory__release", "type": "provides" },
          { "from": "inventory__release", "to": "email__order_confirm", "type": "provides" }
        ]
      },
      {
        "id": "cap__user_profile",
        "toolsUsed": ["api__fetch_user", "db__get_user", "api__fetch_orders"],
        "successRate": 0.98
      },
      {
        "id": "cap__product_browse",
        "toolsUsed": ["api__fetch_products", "inventory__check"],
        "successRate": 0.99
      }
    ],
    "metaCapabilities": [
      {
        "id": "meta__ecommerce",
        "contains": ["cap__checkout_flow", "cap__order_cancellation", "cap__user_profile", "cap__product_browse"],
        "description": "Complete e-commerce operations"
      }
    ]
  },
  "edges": [
    { "source": "db__get_cart", "target": "inventory__check", "type": "provides", "source_type": "observed", "weight": 0.95, "count": 500 },
    { "source": "inventory__check", "target": "payment__validate", "type": "provides", "source_type": "observed", "weight": 0.90, "count": 450 },
    { "source": "payment__validate", "target": "payment__charge", "type": "provides", "source_type": "observed", "weight": 0.85, "count": 400 },
    { "source": "payment__charge", "target": "db__save_order", "type": "provides", "source_type": "observed", "weight": 0.98, "count": 390 },
    { "source": "db__save_order", "target": "email__order_confirm", "type": "provides", "source_type": "observed", "weight": 0.99, "count": 385 },
    { "source": "db__save_order", "target": "db__update_inventory", "type": "provides", "source_type": "observed", "weight": 0.95, "count": 380 },
    { "source": "api__fetch_user", "target": "db__get_user", "type": "sequence", "source_type": "observed", "weight": 0.70, "count": 200 },
    { "source": "payment__charge", "target": "payment__refund", "type": "sequence", "source_type": "observed", "weight": 0.15, "count": 30 },

    { "source": "meta__ecommerce", "target": "cap__checkout_flow", "type": "contains", "source_type": "static", "weight": 1.0, "count": null },
    { "source": "meta__ecommerce", "target": "cap__order_cancellation", "type": "contains", "source_type": "static", "weight": 1.0, "count": null },
    { "source": "meta__ecommerce", "target": "cap__user_profile", "type": "contains", "source_type": "static", "weight": 1.0, "count": null },
    { "source": "meta__ecommerce", "target": "cap__product_browse", "type": "contains", "source_type": "static", "weight": 1.0, "count": null },

    { "source": "payment__charge", "target": "payment__validate", "type": "depends_on", "source_type": "static", "weight": 1.0, "count": null, "note": "Charge requires prior validation" },
    { "source": "inventory__reserve", "target": "inventory__check", "type": "depends_on", "source_type": "static", "weight": 1.0, "count": null, "note": "Reserve requires check" },
    { "source": "email__shipping_notify", "target": "db__save_order", "type": "depends_on", "source_type": "inferred", "weight": 0.85, "count": 120, "note": "Notify requires saved order" }
  ],
  "episodicEvents": [
    {
      "id": "ep_001",
      "intent": "complete purchase for customer",
      "contextTools": ["db__get_cart"],
      "selectedCapability": "cap__checkout_flow",
      "outcome": "success",
      "duration_ms": 2500
    },
    {
      "id": "ep_002",
      "intent": "complete purchase for customer",
      "contextTools": ["db__get_cart", "inventory__check"],
      "selectedCapability": "cap__checkout_flow",
      "outcome": "success",
      "duration_ms": 2100
    },
    {
      "id": "ep_003",
      "intent": "process checkout",
      "contextTools": ["db__get_cart"],
      "selectedCapability": "cap__checkout_flow",
      "outcome": "failure",
      "failureReason": "payment_declined",
      "duration_ms": 1800
    },
    {
      "id": "ep_004",
      "intent": "cancel order and refund",
      "contextTools": ["db__get_cart", "payment__charge"],
      "selectedCapability": "cap__order_cancellation",
      "outcome": "success",
      "duration_ms": 1500
    },
    {
      "id": "ep_005",
      "intent": "show user profile and orders",
      "contextTools": ["api__fetch_user"],
      "selectedCapability": "cap__user_profile",
      "outcome": "success",
      "duration_ms": 800
    },
    {
      "id": "ep_006",
      "intent": "browse available products",
      "contextTools": [],
      "selectedCapability": "cap__product_browse",
      "outcome": "success",
      "duration_ms": 500
    },
    {
      "id": "ep_007",
      "intent": "checkout with payment",
      "contextTools": ["inventory__check", "payment__validate"],
      "selectedCapability": "cap__checkout_flow",
      "outcome": "success",
      "duration_ms": 1900
    },
    {
      "id": "ep_008",
      "intent": "finalize order",
      "contextTools": ["payment__charge"],
      "selectedCapability": "cap__checkout_flow",
      "outcome": "success",
      "duration_ms": 1200
    },
    {
      "id": "ep_009",
      "intent": "refund customer order",
      "contextTools": ["db__save_order"],
      "selectedCapability": "cap__order_cancellation",
      "outcome": "failure",
      "failureReason": "order_already_shipped",
      "duration_ms": 300
    },
    {
      "id": "ep_010",
      "intent": "check product availability",
      "contextTools": ["api__fetch_products"],
      "selectedCapability": "cap__product_browse",
      "outcome": "success",
      "duration_ms": 400
    }
  ],
  "trainingMetrics": {
    "totalEvents": 10,
    "successRate": 0.8,
    "capabilityDistribution": {
      "cap__checkout_flow": 5,
      "cap__order_cancellation": 2,
      "cap__user_profile": 1,
      "cap__product_browse": 2
    },
    "avgContextSize": 1.3
  }
}
